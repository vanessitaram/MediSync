@page
@model MediSync.Pages.Pacientes.LoginModel
@{
    Layout = null;
}

<link rel="stylesheet" href="~/css/login/login.css" />

<div class="login-wrapper">
    <div class="login-left">
        <div class="login-left-content">
            <img src="~/lib/images/logob.png" alt="MediSync" class="login-logo" />
            <h1>MediSync</h1>
            <p>Conecta. Diagnostica. Sincroniza tu salud.</p>
        </div>
    </div>

    <div class="login-right">
        <div class="login-card">
            <h2>Bienvenido</h2>
            <p>Accede a tu cuenta</p>

            <form method="post" class="login-form">
                <label>Tipo de usuario</label>
                <select id="TipoUsuario" name="TipoUsuario">
                    <option value="paciente" selected>Paciente</option>
                    <option value="medico">Médico</option>
                </select>

                <label for="Correo">Correo</label>
                <input type="email" id="Correo" name="Correo" placeholder="ejemplo@correo.com" required />

                <label for="Telefono">Teléfono (solo pacientes)</label>
                <input type="text" id="Telefono" name="Telefono" placeholder="Ingresa tu número" maxlength="10" />

                <label for="Contrasena">Contraseña</label>
                <div class="password-container">
                    <input type="password" id="Contrasena" name="Contrasena" placeholder="Ingresa tu contraseña" required />
                    <button type="button" class="toggle-pass" data-target="Contrasena">👁</button>
                </div>

                <button type="submit" class="btn-login">Iniciar sesión</button>

                <p class="register-text">
                    ¿No tienes cuenta?
                    <a asp-page="Registro">Regístrate aquí</a>
                </p>
            </form>

            @if (!string.IsNullOrEmpty(Model.Mensaje))
            {
            <div class="alerta">@Model.Mensaje</div>
            }
        </div>
    </div>
</div>

<script>
    document.querySelectorAll(".toggle-pass").forEach(btn => {
        btn.addEventListener("click", () => {
            const input = document.getElementById(btn.dataset.target);
            input.type = input.type === "password" ? "text" : "password";
            btn.textContent = input.type === "text" ? "🙈" : "👁";
        });
    });
</script>
