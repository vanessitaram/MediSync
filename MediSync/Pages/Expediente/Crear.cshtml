@page
@model MediSync.Pages.Expediente.CrearModel
@{
    Layout = null;
    ViewData["Title"] = "Registrar Síntoma";
}

<link rel="stylesheet" href="~/css/sintomas/registrar-sintoma.css" />

<div class="sintoma-container">
    <canvas id="moleculeCanvas"></canvas>

    <div class="sintoma-panel">
        <div class="header-flotante">
            <div class="header-info">
                <span>Paciente</span>
                <strong>@Model.NombrePaciente</strong>
            </div>

            <div class="historial-icon" title="Cerrar sesión">
                <a asp-page="/Pacientes/Login" asp-page-handler="Logout" style="color:white;text-decoration:none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white" viewBox="0 0 24 24">
                        <path d="M16 13v-2H7V8l-5 4 5 4v-3h9zm3-10H5c-1.1 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.9 2 2 2h14c1.1
                        0 2-.9 2-2V5c0-1.1-.9-2-2-2z" />
                    </svg>
                </a>
            </div>
        </div>

        <div class="sintoma-header">
            <h1>Registro de Síntomas</h1>
            <p>Describe lo que estás sintiendo y selecciona el área médica correspondiente</p>
        </div>

        <form method="post" class="sintoma-form">
            <label for="Departamento">Área médica</label>
            <select id="Departamento"
                    asp-for="NuevoExpediente.Id_Departamento"
                    asp-items="Model.Departamentos"
                    required>
                <option value="">Selecciona un área</option>
            </select>

            <label for="Sintomas">Síntomas detectados</label>
            <textarea id="Sintomas"
                      asp-for="NuevoExpediente.Sintomas"
                      placeholder="Ejemplo: Dolor de cabeza, fiebre, mareo..."
                      rows="5"
                      required></textarea>

            <div class="estado-box">
                <div class="estado-text">
                    <span class="label">Estado actual:</span>
                    <strong>En proceso</strong>
                </div>
                <div class="pulse"></div>
            </div>

            <button type="submit" class="btn-registrar">Registrar síntoma</button>
        </form>

        @if (!string.IsNullOrEmpty(Model.Mensaje))
        {
            <div class="alerta">@Model.Mensaje</div>
        }
    </div>
</div>

<script src="~/js/sintomas/registrar-sintoma.js"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
